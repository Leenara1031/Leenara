<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
<mapper namespace="com.edu.center.member.dao.IMemberDaoMapper">

	<insert id="memberJoinConfirm" parameterType="MemberVo">
		INSERT INTO tbl_members
		(m_id, m_pw, m_name, m_gender, m_age, m_grade, m_major, m_reg_date, m_mod_date) 
		VALUES
		(#{m_id}, #{m_pw}, #{m_name}, #{m_gender}, #{m_age}, #{m_grade}, #{m_major}, NOW(), NOW())
	</insert>
	
	<select id="memberLoginConfirm" parameterType="MemberVo" resultType="_int">
		SELECT COUNT(*) 
		FROM tbl_members 
		WHERE m_id = #{m_id} AND m_pw = #{m_pw}
	</select>
	
	<select id="memberModify" parameterType="MemberVo" resultType="MemberVo">
		SELECT * 
		FROM tbl_members 
		WHERE m_id = #{m_id}
	</select>
	
	<update id="memberModifyConfirm" parameterType="MemberVo">
		update tbl_members 
		SET m_pw = #{m_pw}, 
			m_name = #{m_name}, 
			m_gender = #{m_gender}, 
			m_age = #{m_age}, 
			m_grade = #{m_grade}, 
			m_major = #{m_major},
			m_mod_date = NOW(), 
		WHERE m_no = #{m_no}
	</update>
	
	<delete id="memberDeleteConfirm" parameterType="MemberVo" >
		DELETE FROM tbl_members 
		WHERE m_id = #{m_id}
	</delete>
	
	<select id="memberList" resultType="Membervo">
		SELECT * 
		FROM tbl_members
	</select>

</mapper>
 